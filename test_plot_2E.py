from floodsystem.plot import plot_water_levels
from floodsystem.station import MonitoringStation
import datetime

def test_plot_water_levels():
    '''tests the function can be run without errors using a dummy station and data'''
    
    # Create a station
    s_id = "test-s-id"
    m_id = "test-m-id"
    label = "some station"
    coord = (-2.0, 4.0)
    trange = (-2.3, 3.4445)
    river = "River X"
    town = "My Town"
    s = MonitoringStation(s_id, m_id, label, coord, trange, river, town)

    levels = [0.954, 0.955, 0.954, 0.954, 0.954, 0.954, 0.954, 0.954, 0.954, 0.954, 0.954, 0.955, 0.955, 0.955, 0.955, 0.955, 0.954, 0.954, 0.955, 0.955, 0.955, 0.956, 0.955, 0.956, 0.956, 0.956, 0.956, 0.956, 0.956, 0.956, 0.956, 0.956, 0.957, 0.957, 0.957, 0.958, 0.958, 
0.958, 0.958, 0.958, 0.959, 0.959, 0.959, 0.959, 0.959, 0.96, 0.96, 0.961, 0.959, 0.96, 0.963, 0.962, 0.962, 0.964, 0.963, 0.963, 
0.963, 0.964, 0.964, 0.964, 0.967, 0.966, 0.966, 0.964, 0.968, 0.966, 0.966, 0.967, 0.968, 0.967, 0.967, 0.965, 0.968, 0.968, 0.968, 0.967, 0.969, 0.97, 0.97, 0.971, 0.971, 0.971, 0.973, 0.972, 0.972, 0.972, 0.972, 0.973, 0.976, 0.974, 0.973, 0.975, 0.976, 0.977, 0.977, 0.977, 0.979, 0.979, 0.98, 0.981, 0.982, 0.983, 0.984, 0.984, 0.986, 0.987, 0.987, 0.989, 0.992, 0.993, 0.994, 0.996, 0.997, 0.998, 1.0, 1.002, 1.002, 1.003, 1.004, 1.004, 1.006, 1.007, 1.012, 1.016, 1.017, 1.015, 1.01, 1.002, 0.997, 0.998, 1.0, 1.004, 1.011, 1.022, 1.031, 1.03]
    dates = [datetime.datetime(2022, 2, 22, 4, 0), datetime.datetime(2022, 2, 22, 3, 45), datetime.datetime(2022, 2, 22, 3, 30), datetime.datetime(2022, 2, 22, 3, 15), datetime.datetime(2022, 2, 22, 3, 0), datetime.datetime(2022, 2, 22, 2, 45), datetime.datetime(2022, 2, 22, 2, 30), datetime.datetime(2022, 2, 22, 2, 15), datetime.datetime(2022, 2, 22, 2, 0), datetime.datetime(2022, 2, 
22, 1, 45), datetime.datetime(2022, 2, 22, 1, 30), datetime.datetime(2022, 2, 22, 1, 15), datetime.datetime(2022, 2, 22, 1, 0), datetime.datetime(2022, 2, 22, 0, 45), datetime.datetime(2022, 2, 22, 0, 30), datetime.datetime(2022, 2, 22, 0, 15), datetime.datetime(2022, 2, 22, 0, 0), datetime.datetime(2022, 2, 21, 23, 45), datetime.datetime(2022, 2, 21, 23, 30), datetime.datetime(2022, 2, 21, 23, 15), datetime.datetime(2022, 2, 21, 23, 0), datetime.datetime(2022, 2, 21, 22, 45), datetime.datetime(2022, 2, 21, 22, 30), datetime.datetime(2022, 2, 21, 22, 15), datetime.datetime(2022, 2, 21, 22, 0), datetime.datetime(2022, 2, 21, 21, 45), datetime.datetime(2022, 2, 21, 21, 30), datetime.datetime(2022, 2, 21, 21, 15), datetime.datetime(2022, 2, 21, 21, 0), datetime.datetime(2022, 2, 21, 20, 45), datetime.datetime(2022, 2, 21, 20, 30), datetime.datetime(2022, 2, 21, 20, 15), datetime.datetime(2022, 2, 21, 20, 0), datetime.datetime(2022, 2, 21, 19, 45), datetime.datetime(2022, 2, 21, 19, 30), datetime.datetime(2022, 2, 21, 19, 15), datetime.datetime(2022, 2, 21, 19, 0), datetime.datetime(2022, 2, 21, 18, 45), datetime.datetime(2022, 2, 21, 18, 30), datetime.datetime(2022, 2, 21, 18, 15), datetime.datetime(2022, 2, 21, 18, 0), datetime.datetime(2022, 2, 21, 17, 45), datetime.datetime(2022, 2, 21, 17, 30), datetime.datetime(2022, 2, 21, 17, 15), datetime.datetime(2022, 2, 21, 17, 0), datetime.datetime(2022, 2, 21, 16, 45), datetime.datetime(2022, 2, 21, 16, 30), datetime.datetime(2022, 2, 21, 16, 15), datetime.datetime(2022, 2, 21, 16, 0), datetime.datetime(2022, 2, 21, 15, 45), datetime.datetime(2022, 2, 21, 15, 30), datetime.datetime(2022, 2, 21, 15, 15), datetime.datetime(2022, 2, 21, 15, 0), datetime.datetime(2022, 2, 21, 14, 45), datetime.datetime(2022, 2, 21, 14, 30), datetime.datetime(2022, 2, 21, 14, 15), datetime.datetime(2022, 2, 21, 14, 0), datetime.datetime(2022, 2, 21, 13, 45), datetime.datetime(2022, 2, 21, 13, 30), datetime.datetime(2022, 2, 21, 13, 15), datetime.datetime(2022, 2, 21, 13, 0), datetime.datetime(2022, 2, 21, 12, 45), datetime.datetime(2022, 2, 21, 12, 30), datetime.datetime(2022, 2, 21, 12, 15), datetime.datetime(2022, 2, 21, 12, 0), datetime.datetime(2022, 2, 21, 11, 45), datetime.datetime(2022, 2, 21, 11, 30), datetime.datetime(2022, 2, 21, 11, 15), datetime.datetime(2022, 2, 21, 11, 0), datetime.datetime(2022, 2, 21, 10, 45), datetime.datetime(2022, 2, 21, 10, 30), datetime.datetime(2022, 2, 21, 10, 15), datetime.datetime(2022, 2, 21, 10, 0), datetime.datetime(2022, 2, 21, 9, 45), datetime.datetime(2022, 2, 21, 9, 30), datetime.datetime(2022, 2, 21, 9, 15), datetime.datetime(2022, 2, 21, 9, 0), datetime.datetime(2022, 2, 21, 8, 45), datetime.datetime(2022, 2, 21, 8, 30), datetime.datetime(2022, 2, 21, 8, 15), datetime.datetime(2022, 2, 21, 8, 0), datetime.datetime(2022, 2, 21, 7, 45), datetime.datetime(2022, 2, 21, 7, 30), datetime.datetime(2022, 2, 21, 7, 15), datetime.datetime(2022, 2, 21, 7, 0), datetime.datetime(2022, 2, 21, 6, 45), datetime.datetime(2022, 2, 21, 6, 30), datetime.datetime(2022, 2, 21, 6, 15), datetime.datetime(2022, 2, 21, 6, 0), datetime.datetime(2022, 2, 21, 5, 45), datetime.datetime(2022, 2, 21, 5, 30), datetime.datetime(2022, 2, 21, 
5, 15), datetime.datetime(2022, 2, 21, 5, 0), datetime.datetime(2022, 2, 21, 4, 45), datetime.datetime(2022, 2, 21, 4, 30), datetime.datetime(2022, 2, 21, 4, 15), datetime.datetime(2022, 2, 21, 4, 0), datetime.datetime(2022, 2, 21, 3, 45), datetime.datetime(2022, 2, 21, 3, 30), datetime.datetime(2022, 2, 21, 3, 15), datetime.datetime(2022, 2, 21, 3, 0), datetime.datetime(2022, 2, 21, 2, 45), datetime.datetime(2022, 2, 21, 2, 30), datetime.datetime(2022, 2, 21, 2, 15), datetime.datetime(2022, 2, 21, 2, 0), datetime.datetime(2022, 2, 21, 1, 45), datetime.datetime(2022, 2, 21, 1, 30), datetime.datetime(2022, 2, 21, 1, 15), datetime.datetime(2022, 2, 21, 1, 0), datetime.datetime(2022, 2, 21, 0, 45), datetime.datetime(2022, 2, 21, 
0, 30), datetime.datetime(2022, 2, 21, 0, 15), datetime.datetime(2022, 2, 21, 0, 0), datetime.datetime(2022, 2, 20, 23, 45), datetime.datetime(2022, 2, 20, 23, 30), datetime.datetime(2022, 2, 20, 23, 15), datetime.datetime(2022, 2, 20, 23, 0), datetime.datetime(2022, 2, 20, 22, 45), datetime.datetime(2022, 2, 20, 22, 30), datetime.datetime(2022, 2, 20, 22, 15), datetime.datetime(2022, 2, 20, 22, 0), datetime.datetime(2022, 2, 20, 21, 45), datetime.datetime(2022, 2, 20, 21, 30), datetime.datetime(2022, 2, 20, 21, 15), datetime.datetime(2022, 2, 20, 21, 0), datetime.datetime(2022, 2, 20, 20, 45), datetime.datetime(2022, 2, 20, 20, 30), datetime.datetime(2022, 2, 20, 20, 15), datetime.datetime(2022, 2, 20, 20, 0), datetime.datetime(2022, 2, 20, 19, 45), datetime.datetime(2022, 2, 20, 19, 30), datetime.datetime(2022, 2, 20, 19, 15), datetime.datetime(2022, 2, 20, 19, 0), datetime.datetime(2022, 2, 20, 18, 45), datetime.datetime(2022, 2, 20, 18, 30), datetime.datetime(2022, 2, 20, 18, 15)]

    plot_water_levels(s, dates, levels)
